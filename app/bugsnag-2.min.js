!function(a){var b=window.Bugsnag;window.Bugsnag=a(window,document,navigator,b)}(function(a,b,c,d){function e(a,b){try{if("function"!=typeof a)return a;if(!a.bugsnag){var c=g();a.bugsnag=function(d){if(b&&b.eventHandler&&(w=d),x=c,!A){var e=a.apply(this,arguments);return x=null,e}try{return a.apply(this,arguments)}catch(f){throw n("autoNotify",!0)&&(z.notifyException(f,null,null,"error"),u()),f}finally{x=null}},a.bugsnag.bugsnag=a.bugsnag}return a.bugsnag}catch(d){return a}}function f(){D=!1}function g(){var a=b.currentScript||x;if(!a&&D){var c=b.getElementsByTagName("script");a=c[c.length-1]}return a}function h(a){var b=g();b&&(a.script={src:b.src,content:n("inlineScript",!0)?b.innerHTML:""})}function i(b){var c=a.console;void 0!==c&&void 0!==c.log&&c.log("[Bugsnag] "+b)}function j(a,b){var c=[];for(var d in a)if(a.hasOwnProperty(d)&&null!=d&&null!=a[d]){var e=b?b+"["+d+"]":d,f=a[d];c.push("object"==typeof f?j(f,e):encodeURIComponent(e)+"="+encodeURIComponent(f))}return c.join("&")}function k(a,b){if(null==b)return a;a=a||{};for(var c in b)if(b.hasOwnProperty(c))try{a[c]=b[c].constructor===Object?k(a[c],b[c]):b[c]}catch(d){a[c]=b[c]}return a}function l(a,b){var c=new Image;c.src=a+"?"+j(b)+"&ct=img&cb="+(new Date).getTime()}function m(a){for(var b={},c=/^data\-([\w\-]+)$/,d=a.attributes,e=0;e<d.length;e++){var f=d[e];if(c.test(f.nodeName)){var g=f.nodeName.match(c)[1];b[g]=f.nodeValue}}return b}function n(a,b){E=E||m(L);var c=void 0!==z[a]?z[a]:E[a.toLowerCase()];return"false"===c&&(c=!1),void 0!==c?c:b}function o(a){return null!=a&&a.match(F)?!0:(i("Invalid API key '"+a+"'"),!1)}function p(b,d){var e=n("apiKey");if(o(e)&&C){C-=1;var f=n("releaseStage"),g=n("notifyReleaseStages");if(g){for(var h=!1,i=0;i<g.length;i++)if(f===g[i]){h=!0;break}if(!h)return}var j=[b.name,b.message,b.stacktrace].join("|");if(j!==y){y=j,w&&(d=d||{},d["Last Event"]=s(w));var m={notifierVersion:J,apiKey:e,projectRoot:n("projectRoot")||a.location.protocol+"//"+a.location.host,context:n("context")||a.location.pathname,userId:n("userId"),user:n("user"),metaData:k(k({},n("metaData")),d),releaseStage:f,appVersion:n("appVersion"),url:a.location.href,userAgent:c.userAgent,language:c.language||c.userLanguage,severity:b.severity,name:b.name,message:b.message,stacktrace:b.stacktrace,file:b.file,lineNumber:b.lineNumber,columnNumber:b.columnNumber,payloadVersion:"2"},p=z.beforeNotify;if("function"==typeof p){var q=p(m,m.metaData);if(q===!1)return}l(n("endpoint")||I,m)}}}function q(){var a,b=10,c="[anonymous]";try{throw new Error("")}catch(d){a=r(d)}if(!a){var e=[];try{for(var f=arguments.callee.caller.caller;f&&e.length<b;){var g=G.test(f.toString())?RegExp.$1||c:c;e.push(g),f=f.caller}}catch(h){i(h)}a=e.join("\n")}return"<generated>\n"+a}function r(a){return a.stack||a.backtrace||a.stacktrace}function s(a){var b={millisecondsAgo:new Date-a.timeStamp,type:a.type,which:a.which,target:t(a.target)};return b}function t(a){if(a){var b=a.attributes;if(b){for(var c="<"+a.nodeName.toLowerCase(),d=0;d<b.length;d++)b[d].value&&"null"!=b[d].value.toString()&&(c+=" "+b[d].name+'="'+b[d].value+'"');return c+">"}return a.nodeName}}function u(){B+=1,a.setTimeout(function(){B-=1})}function v(a,b,c){var d=a[b],e=c(d);a[b]=e}var w,x,y,z={},A=!0,B=0,C=10;z.noConflict=function(){return a.Bugsnag=d,z},z.notifyException=function(a,b,c,d){b&&"string"!=typeof b&&(c=b,b=void 0),c||(c={}),h(c),p({name:b||a.name,message:a.message||a.description,stacktrace:r(a)||q(),file:a.fileName||a.sourceURL,lineNumber:a.lineNumber||a.line,columnNumber:a.columnNumber?a.columnNumber+1:void 0,severity:d||"warning"},c)},z.notify=function(a,b,c,d){p({name:a,message:b,stacktrace:q(),severity:d||"warning"},c)};var D="complete"!==b.readyState;b.addEventListener?(b.addEventListener("DOMContentLoaded",f,!0),a.addEventListener("load",f,!0)):a.attachEvent("onload",f);var E,F=/^[0-9a-f]{32}$/i,G=/function\s*([\w\-$]+)?\s*\(/i,H="https://notify.bugsnag.com/",I=H+"js",J="2.3.6",K=b.getElementsByTagName("script"),L=K[K.length-1];if(a.atob){if(a.ErrorEvent)try{0===new a.ErrorEvent("test").colno&&(A=!1)}catch(M){}}else A=!1;if(n("autoNotify",!0)){v(a,"onerror",function(b){return function(c,d,e,f,g){var i=n("autoNotify",!0),j={};!f&&a.event&&(f=a.event.errorCharacter),h(j),x=null,i&&!B&&p({name:g&&g.name||"window.onerror",message:c,file:d,lineNumber:e,columnNumber:f,stacktrace:g&&r(g)||q(),severity:"error"},j),b&&b(c,d,e,f,g)}});var N=function(a){return function(b,c){if("function"==typeof b){b=e(b);var d=Array.prototype.slice.call(arguments,2);return a(function(){b.apply(this,d)},c)}return a(b,c)}};v(a,"setTimeout",N),v(a,"setInterval",N),a.requestAnimationFrame&&v(a,"requestAnimationFrame",N),a.setImmediate&&v(a,"setImmediate",function(a){return function(){var b=Array.prototype.slice.call(arguments);return b[0]=e(b[0]),a.apply(this,b)}}),"EventTarget Window Node ApplicationCache AudioTrackList ChannelMergerNode CryptoOperation EventSource FileReader HTMLUnknownElement IDBDatabase IDBRequest IDBTransaction KeyOperation MediaController MessagePort ModalWindow Notification SVGElementInstance Screen TextTrack TextTrackCue TextTrackList WebSocket WebSocketWorker Worker XMLHttpRequest XMLHttpRequestEventTarget XMLHttpRequestUpload".replace(/\w+/g,function(b){var c=a[b]&&a[b].prototype;c&&c.hasOwnProperty&&c.hasOwnProperty("addEventListener")&&(v(c,"addEventListener",function(a){return function(b,c,d,f){return c&&c.handleEvent&&(c.handleEvent=e(c.handleEvent,{eventHandler:!0})),a.call(this,b,e(c,{eventHandler:!0}),d,f)}}),v(c,"removeEventListener",function(a){return function(b,c,d,f){return a.call(this,b,c,d,f),a.call(this,b,e(c),d,f)}}))})}return z});