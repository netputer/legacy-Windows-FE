<!DOCTYPE html>
<html>
    <head>
        <title>Wandoujia 2.0</title>
        <meta http-equiv="content-type" content="text/html; charset=utf-8">
        <script type="text/javascript" src="bower_components/jquery/jquery.js"></script>
        <script type="text/javascript" src="bower_components/qrcode.js/qrcode.js"></script>
    </head>
    <body style="margin: 0; padding: 0;">
        <div id="qrcode" style="width: 150px; height: 150px;"></div>
        <script type="text/javascript">
            $(function () {
                var QUERYSTRING_PATTERN_PREFIX = '[\\?\\&\\#]';
                var QUERYSTRING_PATTERN_SUFFIX = '=([^&]*)';
                var QueryString = {};

                QueryString.get = function (key, string) {
                    string = string || window.location.search;
                    var matches = string.match(new RegExp(QUERYSTRING_PATTERN_PREFIX + key + QUERYSTRING_PATTERN_SUFFIX, 'i'));
                    var encodedValue = matches && matches[1];
                    var value = encodedValue && decodeURIComponent(encodedValue);
                    return value;
                };

                var qrcode = new QRCode($("#qrcode")[0], {
                    width : 150,
                    height : 150,
                    correctLevel : QRCode.CorrectLevel.L
                });

                qrcode.makeCode(QueryString.get("qrcontent"));
                $('#qrcode').attr('title', '');
            });
        </script>
    </body>
</html>
