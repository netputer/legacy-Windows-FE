(function(e,t){define(["backbone","underscore","doT","Device","ui/TemplateFactory","Log","Settings","Environment","app/wash/views/FeedbackWindowView"],function(e,t,n,r,i,s,o,u,a){console.log("IntroView - File loaded.");var f=e.View.extend({className:"w-app-wash-intro",template:n.template(i.get("wash","wash-intro")),initialize:function(){this.listenTo(r,"change",this.toggleState)},toggleState:function(e){this.$(".button-start").prop({disabled:!e.get("isConnected")||!e.get("isUSB")}),!e.get("isConnected")||!e.get("isUSB")?this.$(".connect-tip").show():this.$(".connect-tip").hide()},render:function(){return this.$el.html(this.template({})),this.toggleState(r),this},clickButtonStart:function(){this.trigger("next"),o.set("has-used-wash",!0,u.get("deviceId")),o.set("last-used-wash-time",(new Date).getTime(),u.get("deviceId")),this.remove(),s({event:"ui.click.wash.button_start"})},clickButtonFeedback:function(){a.getInstance().show(),s({event:"ui.click.wash.button_feedback_intro_view"})},events:{"click .button-feedback":"clickButtonFeedback","click .button-start":"clickButtonStart"}}),l=t.extend({getInstance:function(){return new f}});return l})})(this);