(function(e){define(["jquery","underscore","doT","Configuration","Environment","Internationalization","IO","Device","Log","Settings","utilities/StringUtil","ui/TemplateFactory","guide/views/CardView"],function(t,n,r,i,s,o,u,a,f,l,c,h,p){var d=p.getClass().extend({className:p.getClass().prototype.className+" w-guide-bind",template:r.template(h.get("guide","bind")),initialize:function(){this.listenTo(a,"change:deviceName",function(e,t){this.$(".stage .success p").html(c.format(o.welcome.GUIDE_BIND_DESC,e.get("deviceName")))})},checkAsync:function(){var e=t.Deferred(),n=function(t){u.requestAsync(i.actions.WINDOW_DEVICE_NEED_BIND).done(function(t){t.body.value?(e.resolve(t),f({event:"debug.guide_bind_show"})):e.reject(t)}.bind(this)).fail(e.reject)};return l.get("user_guide_shown_bind")?setTimeout(e.reject):a.get("isConnected")?n.call(this,a):this.listenToOnce(a,"change:isConnected",n),e.promise()},render:function(){return l.set("user_guide_shown_bind",!0),d.__super__.render.call(this)},clickButtonSkip:function(){d.__super__.clickButtonSkip.call(this),f({event:"ui.click.guide_bind_skip"})},clickButtonAction:function(){u.requestAsync(i.actions.WINDOW_DEVICE_BIND),this.$(".stage .desc").remove(),this.$(".stage .success").css({display:"-webkit-box"}),this.$(".button-action").prop("disabled",!0),e.setTimeout(function(){this.trigger("next")}.bind(this),3e3),f({event:"ui.click.guide_bind_view_action"})}}),v=n.extend({getInstance:function(){return new d({action:o.welcome.GUIDE_BIND_NOW})}});return v})})(this);