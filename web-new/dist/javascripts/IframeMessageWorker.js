(function(e){define(["underscore","backbone","IO","Configuration"],function(t,n,r,i){console.log("IframeMessageWorker - File loaded. ");var s=t.extend({},n.Events);return s.alert=function(e){r.sendCustomEventsAsync(i.events.CUSTOM_IFRAME_ALERT,{data:e})},s.confirm=function(n,s,o,u){typeof o!="function"&&(u=o||e);var a=function(){s!==undefined&&s.call(u||e)},f=function(){o!==undefined&&typeof o=="function"&&o.call(u||e)},l=t.uniqueId("iframe_confirm_");r.sendCustomEventsAsync(i.events.CUSTOM_IFRAME_CONFIRM,{data:n,listenerId:l});var c=r.Backend.Device.onmessage({"data.channel":l},function(e){e.action==="yes"?a.call(this):f.call(this),r.Backend.Device.offmessage(c)})},s.disposable=function(e){r.sendCustomEventsAsync(i.events.CUSTOM_IFRAME_DISPOSABLE,{data:e})},s.trigger=function(e,t){r.sendCustomEventsAsync(e,{data:t||{}})},s})})(this);