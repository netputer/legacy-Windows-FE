(function(e,t){define(["underscore","IO","MessageRouterMixin","Environment","utilities/FilterFunction"],function(t,n,r,i,s){return console.log("IOBackendDevice - File loded."),n.Backend.Device=t.extend(function(){},n.Backend),n.Backend.Device.onmessage=function(e,r,o,u){return typeof o!="boolean"&&(u=o,o=!1),o||(e["data.deviceId"]=i.get("deviceId")),i.get("deviceId")==="Default"&&i.once("change:deviceId",function(e,n){t.each(this.callbackList,function(e){e.route["data.deviceId"]&&(e.route["data.deviceId"]=n,e.filter=s.generate(e.route))})},n.Backend.Device),n.Backend.onmessage.call(n.Backend,e,r,u)},e.IO=n,n})})(this);